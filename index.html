<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">

  <title>Make Color Image</title>
  <style>
    body { background: white; color: black; }
    a:link { color: #0000EE; }
    a:visited { color: #551A8B; }
    a:hover { color: lightblue; }
    a:active { color: lightblue; }
    .form-block { margin-bottom: 0.38rem; }
  </style>
</head><body>
  <h1>Make Single-Color Image</h1>
  <div class="form-block">
    <input type="number" name="imgwidth" id="imgwidth"
           min="1" max="16000" step="1" value="800">
    <label for="imgwidth">Width</label>
  </div>
  <div class="form-block">
    <input type="number" name="imgheight" id="imgheight"
           min="1" max="16000" step="1" value="600">
    <label for="imgheight">Height</label>
  </div>
  <div class="form-block">
    <input type="color" name="imgcolor" id="imgcolor"
           value="#999999">
    <label for="imgcolor">Color</label>
  </div>
  <p>
    <button type="button" id="imgsubmit">Create image</button>
  </p>
  <p>To save the image to your device, right-click or hold below:</p>
  <canvas width="800" height="600" id="imgcanvas"></canvas>

  <p>See <a href="https://github.com/axelpale/make-color-image">axelpale/make-color-image</a> at GitHub</p>

  <script>
  (function () {
    const widthInput = document.querySelector('#imgwidth')
    const heightInput = document.querySelector('#imgheight')
    const colorInput = document.querySelector('#imgcolor')
    const submitBtn = document.querySelector('#imgsubmit')

    const canvas = document.querySelector('#imgcanvas')
    const ctx = canvas.getContext('2d')

    const updateCanvas = function () {
      // Read form
      const w = parseInt(widthInput.value)
      const h = parseInt(heightInput.value)
      const c = colorInput.value
      // Reset canvas size
      canvas.width = w
      canvas.height = h
      // Fill canvas with color
      ctx.fillStyle = c
      ctx.fillRect(0, 0, w, h)
    }

    submitBtn.addEventListener('click', updateCanvas)

    // Initial reset
    updateCanvas()
  })()
  </script>
</body></html>
